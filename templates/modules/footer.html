<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!-- é¡µè„šæ¨¡å— -->
<footer id="footer" th:fragment="footer">

    <!-- ç¤¾äº¤é“¾æ¥ï¼Œéœ€è¦å¡«å…¥ href class title -->
    <div id="footer_deal">
        <th:block th:with="socialMedias = ${theme.config.footer.social_media.socialMediaLeft}">
            <a class="deal_link" rel="external nofollow" target="_blank" th:each="socialMedia : ${socialMedias}"
               th:href="${socialMedia.url}" th:title="${socialMedia.name}">
                <i class="iconfont " th:classappend="${socialMedia.icon}"></i>
            </a>
        </th:block>

        <img th:if="${not #strings.isEmpty(theme.config.footer.social_media.centerImg)}" class="footer_mini_logo"
             th:src="@{${theme.config.footer.social_media.centerImg}}" title="è¿”å›é¡¶éƒ¨" onclick="btf.scrollToDest(0, 500)">
        <th:block th:with="socialMedias = ${theme.config.footer.social_media.socialMediaRight}">
            <a class="deal_link" rel="external nofollow" target="_blank" th:each="socialMedia : ${socialMedias}"
               th:href="${socialMedia.url}" th:title="${socialMedia.name}">
                <i class="iconfont " th:classappend="${socialMedia.icon}"></i>
            </a>
        </th:block>
    </div>

    <!-- ç›¸å…³åœ°å€  -->
    <th:block th:if="${not #strings.isEmpty(theme.config.footer.menu)}"
              th:with="footMenu = ${menuFinder.getByName(theme.config.footer.menu)}">
        <div id="heo-footer" th:if="${not #lists.isEmpty(footMenu)}">
            <div class="footer-group" th:each="menuItem : ${footMenu.menuItems}">
                <h3 class="footer-title" th:text="${menuItem.status.displayName}"></h3>
                <div class="footer-links">
                    <a class="footer-item" th:each="childMenu : ${menuItem.children}"
                       th:href="@{${childMenu.status.href}}" th:text="${childMenu.status.displayName}">
                    </a>
                </div>
            </div>
            <div th:if="${theme.config.footer.footer_group.enable_footer_group}" class="footer-group">
                <div class="footer-title-group">
                    <h3 class="footer-title">å‹é“¾</h3><a class="random-friends-btn"
                                                         href="javascript:link.addFriendLinksInFooter();"
                                                         rel="external nofollow" title="æ¢ä¸€æ‰¹å‹æƒ…é“¾æ¥"
                                                         data-pjax-state="external"><i
                        class="haofont hao-icon-arrow-rotate-right"></i></a>
                </div>
                <div class="footer-links" id="friend-links-in-footer"></div>
            </div>
        </div>

    </th:block>
    <!-- åº•éƒ¨ banner -->

    <div th:if="${theme.config.footer.footerContent.footerStyle == 'default'}" id="footer-banner">
        <div class="footer-banner-links">
            <div class="footer-banner-left">
                <div id="footer-banner-tips">
                    <div class="copyright" th:if="${not #strings.isEmpty(theme.config.basics.siteStartTime)}">
                        Â©[[${#strings.arraySplit(theme.config.basics.siteStartTime, '-')[0]}]] - [[${#dates.format(new
                        java.util.Date(), 'yyyy')}]]
                    </div>
                    <div class="copyright" th:if="${#strings.isEmpty(theme.config.basics.siteStartTime)}">
                        Â©[[${#dates.format(new java.util.Date(), 'yyyy')}]]
                    </div>
                </div>
                <br>
                <div>
                    &nbsp;
                    By <a class="footer-banner-link" href="/" target="_blank">[[${site.title}]]</a>
                </div>
            </div>
            <div class="footer-banner-right">
                <!-- è®¢é˜… éœ€è¦ RSS æ’ä»¶æ”¯æŒ -->
                <a class="footer-banner-link" href="/sitemap.xml"
                   th:if="${pluginFinder.available('PluginSitemap')}">è®¢é˜…</a>
                <a class="footer-banner-link" href="https://github.com/liuzhihang/halo-theme-hao">ä¸»é¢˜</a>
                <a class="footer-banner-link" href="/about">å…³äº</a>
                <a class="footer-banner-link" href="https://beian.miit.gov.cn/#/Integrated/index"
                   rel="noopener external nofollow noreferrer noopener" target="_blank">[[${theme.config.basics.icp}]]
                </a>
                <a class="footer-banner-link" th:href="@{'http://www.beian.gov.cn/portal/registerSystemInfo'}"
                   rel="noopener external nofollow noreferrer noopener"
                   target="_blank">[[${theme.config.basics.gongan}]]
                </a>
                <a class="footer-banner-link cc" th:href="${theme.config.basics.copyrightAgreement}"
                   th:if="${not #strings.isEmpty(theme.config.basics.copyrightAgreement)}" title="ccåè®®">
                    <i class="iconfont icon-cc"></i>
                    <i class="iconfont icon-by"></i>
                    <i class="iconfont icon-nc"></i>
                    <i class="iconfont icon-nd"></i>
                </a>
            </div>
        </div>
    </div>

    <th:block  th:if="${theme.config.footer.footerContent.footerStyle == 'one'}">
        <div class="copyright" th:if="${not #strings.isEmpty(theme.config.basics.siteStartTime)}">
            Â©[[${#strings.arraySplit(theme.config.basics.siteStartTime, '-')[0]}]] - [[${#dates.format(new
            java.util.Date(), 'yyyy')}]] By [[${site.title}]]
        </div>
        <div class="copyright" th:if="${#strings.isEmpty(theme.config.basics.siteStartTime)}">
            Â©[[${#dates.format(new java.util.Date(), 'yyyy')}]] By [[${site.title}]]
        </div>
        <div th:if="${theme.config.footer.footerContent.style_one.runtime_enable}" id="workboard">
            <img class="workSituationImg boardsign"
                 th:src="${theme.config.footer.footerContent.style_one.work_img}"
                 th:alt="${theme.config.footer.footerContent.style_one.work_description}"
                 th:title="${theme.config.footer.footerContent.style_one.work_description}" />
            <div id="runtimeTextTip"></div>
        </div>
        <p id="ghbdages"
           th:with="bdageitem = ${theme.config.footer.footerContent.style_one.bdageitem}">
            <a class="github-badge" th:each="data : ${bdageitem}" target="_blank"
               th:href="@{${data.link}}" style="margin-inline:5px"
               th:title="${data.message}">
                <img th:src="@{${data.shields}}"
                     th:alt="${data.message}" />
            </a>
        </p>
        <span style="padding: 20px 20px;">

        </span>

        <style>
            [data-theme="light"] .copyright,#ghbdages,#workboard{
                color: var(--font-color);
            }
            .copyright,#ghbdages,#workboard {
                position: relative;
                padding: 0px 20px;
                text-align: center;
            }
        </style>


        <script async="async">(function () {
            var grt = new Date("[[${#strings.arraySplit(theme.config.basics.siteStartTime, '-')[1]}]]/[[${#strings.arraySplit(theme.config.basics.siteStartTime, '-')[2]}]]/[[${#strings.arraySplit(theme.config.basics.siteStartTime, '-')[0]}]] 00:00:00"); //è®¾ç½®ç½‘ç«™ä¸Šçº¿æ—¶é—´
            var now = new Date();
            var dnum;
            var hnum;
            var mnum;
            var snum;
            var nowHour;
            var t;
            var n;

            // è®¡ç®—å¹¶æ›´æ–°å¤©æ•°ã€å°æ—¶æ•°ã€åˆ†é’Ÿæ•°å’Œç§’æ•°
            function updateTime() {
                now = new Date(); // æ›´æ–° now çš„å€¼
                nowHour = now.getHours(); // æ›´æ–° nowHour çš„å€¼
                var days = (now - grt) / 1000 / 60 / 60 / 24;
                dnum = Math.floor(days);
                var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
                hnum = Math.floor(hours);
                if (String(hnum).length == 1) {
                    hnum = "0" + hnum;
                }
                var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
                mnum = Math.floor(minutes);
                if (String(mnum).length == 1) {
                    mnum = "0" + mnum;
                }
                var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
                snum = Math.round(seconds);
                if (String(snum).length == 1) {
                    snum = "0" + snum;
                }
                t = Math.trunc(234e8 + (now - grt) / 1e3 * 17)
                n = (t / 1496e5).toFixed(6)
            }

            // æ›´æ–°ç½‘é¡µä¸­æ˜¾ç¤ºçš„ç½‘ç«™è¿è¡Œæ—¶é—´
            function updateHtml() {
                const footer = document.getElementById("footer");
                if (!footer) return
                let currentTimeHtml = "";
                if (nowHour < 18 && nowHour >= 9) {
                    // å¦‚æœæ˜¯ä¸Šç­æ—¶é—´ï¼Œé»˜è®¤å°±æ˜¯"å›°å›°é±¼-ä¸Šç­æ‘¸é±¼ä¸­.svg"å›¾ç‰‡ï¼Œä¸éœ€è¦æ›´æ”¹
                    currentTimeHtml = `æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤©<span id='runtime'> ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ </span><i class='haofont hao-icon-heartbeat' style='color:red'></i> <br> æ—…è¡Œè€… 1 å·å½“å‰è·ç¦»åœ°çƒ ${t} åƒç±³ï¼Œçº¦ä¸º ${n} ä¸ªå¤©æ–‡å•ä½ ğŸš€`;
                } else {
                    // å¦‚æœæ˜¯ä¸‹ç­æ—¶é—´ï¼Œæ’å…¥"å›°å›°é±¼-ä¸‹ç­å•¦.svg"å›¾ç‰‡
                    let img = document.querySelector("#workboard .workSituationImg");
                    img.src = "[[${theme.config.footer.footerContent.style_one.work_img}]]";
                    img.title = "[[${theme.config.footer.footerContent.style_one.work_description}]]";
                    img.alt = "[[${theme.config.footer.footerContent.style_one.work_description}]]";

                    currentTimeHtml = `æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤©<span id='runtime'> ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ </span><i class='haofont hao-icon-heartbeat' style='color:red'></i> <br> æ—…è¡Œè€… 1 å·å½“å‰è·ç¦»åœ°çƒ ${t} åƒç±³ï¼Œçº¦ä¸º ${n} ä¸ªå¤©æ–‡å•ä½ ğŸš€`;
                }

                if (document.getElementById("runtimeTextTip")) {
                    document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
                }
            }

            setInterval(() => {
                updateTime();
                updateHtml();
            }, 1000);
        })();</script>
    </th:block>

    <!-- å³ä¸‹è§’ snackbar å¼¹çª— -->
    <div th:if="${theme.config.tool.snackbar.switch}" class="needEndHide" id="cookies-window">
        <div class="cookies-window-title" th:text="${theme.config.tool.snackbar.introductionTitle}"></div>
        <div class="cookies-window-content"><span class="cookies-tip"
                                                  th:text="${theme.config.tool.snackbar.introductionTip}"></span>
            <a class="cookies-link"
               th:href="@{${theme.config.tool.snackbar.introductionUrl}}"
               th:title="${theme.config.tool.snackbar.introductionName}" data-pjax-state=""><i
                    class="bber-gotobb fas fa-arrow-circle-right"></i></a></div>
    </div>
    <div id="quit-box" onclick="RemoveRewardMask()"></div>



    <!--è¯„è®ºå¼¹å¹•å¼¹çª— -->
    <div th:if="${theme.config.comments.twikooEnable && #strings.equals(theme.config.comments.use, 'Twikoo') && not #strings.isEmpty(theme.config.comments.twikoos.envId)
    && not #strings.isEmpty(theme.config.comments.twikoos.accessToken)}" class="comment-barrage needEndHide"
         style="display: none;"></div>


</footer>

</html>